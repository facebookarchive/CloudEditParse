<!doctype html>  
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>CloudEdit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="stylesheets/reset.css" media="all" rel="stylesheet" type="text/css" />
    <link href="stylesheets/application.css" media="all" rel="stylesheet" type="text/css" />
    <script src="js/jquery-1.6.4.min.js" type="text/javascript"></script>
    <script src="js/underscore.js" type="text/javascript"></script>
    <script src="js/backbone.js" type="text/javascript"></script>
    <script src="http://www.parsecdn.com/js/parse-1.0.0.min.js"></script>
    <script src="js/application.js" type="text/javascript"></script>
    <script src="js/jquery.dotimeout.js" type="text/javascript"></script>
    <script src="js/models/document.js" type="text/javascript"></script>
    <script src="js/controllers/documents.js" type="text/javascript"></script>
    <script src="js/views/edit.js" type="text/javascript"></script>
    <script src="js/views/index.js" type="text/javascript"></script>
    <script src="js/views/notice.js" type="text/javascript"></script>
  </head>

  <body>
    <h1><a href="#">CloudEdit</a></h1>
    <h2>A Parse JavaScript Example by <a href="http://www.jamesyu.org/">James Yu</a>. <a href="http://www.jamesyu.org/2011/01/27/cloudedit-a-backbone-js-tutorial-by-example/">Read the tutorial here</a>.</h2>

    <div id="notice"></div>

    <div id="app"></div>

    <p>Note: Only the last 50 documents are shown.</p>

    <script type="text/template" id="document-template">
      <form>
        <label for='title'>Title</label>
        <input name='title' type='text' />
        
        <label for='body'>Body</label>
        <textarea name='body'><%= model.get('body') || '' %></textarea>

        <% if(editable) { %>
          <button><%= model.isNew() ? 'Create' : 'Save' %></button>
        <% } %>
      </form>
    </script>
          
    <script type="text/template" id="document-collection-template">
      <% if(collection.models.length > 0) { %>
        <h3><a href='#new'>Create New</a></h3><ul>
        <% collection.each(function(item) { %>
          <li><a href='#documents/<%= item.id %>'><%= item.escape('title') %></a></li>
        <% }); %>
        </ul>
      <% } else { %>
        <h3>No documents! <a href='#new'>Create one</a></h3>
      <% } %>
    </script>
    
    <script type="text/javascript">
      $(function() {
        App.init();
      });
    </script>

  </body>
</html>
